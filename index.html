async function sendWifi() {
    const SERVICE_UUID = '12345678-1234-5678-1234-567812345678';
    
    try {
        const device = await navigator.bluetooth.requestDevice({
            // Accept all because of the naming issue
            acceptAllDevices: true,
            // You MUST list the service here so the browser "unlocks" access to it
            optionalServices: [SERVICE_UUID]
        });

        const server = await device.gatt.connect();
        
        // Add a small delay after connecting to allow GATT discovery
        await new Promise(r => setTimeout(r, 1000));
        
        const service = await server.getPrimaryService(SERVICE_UUID);
        // ... rest of your code
    } catch (e) {
        console.error(e);
    }
}
